<!DOCTYPE html>
<html>
<head>
  <title>File Share</title>
  <style>
    body { 
      background:#0f1720; 
      color:white; 
      font-family:Arial; 
      padding:40px;
    }
    .box { 
      background:#0b1220; 
      padding:20px; 
      border-radius:12px; 
      width:400px; 
      border:1px solid #1f2a37;
    }
    button {
      background:#06b6d4;
      padding:10px 15px;
      color:#0b1220;
      border-radius:8px;
      border:none;
      cursor:pointer;
    }
    input[type=file] { margin-top:14px; }
    a.link { color:#7fffd4; }
  </style>
</head>

<body>
  <div class="box">
    <h2>Upload & Share</h2>

    <input type="file" id="fileInput" />
    <button onclick="uploadFile()">Upload</button>

    <p id="status"></p>
    <p id="link"></p>
  </div>

<script>
async function uploadFile() {
  const f = document.getElementById("fileInput").files[0];
  if (!f) return alert("Choose a file first!");

  const form = new FormData();
  form.append("file", f);

  document.getElementById("status").textContent = "Uploading...";

  const res = await fetch("http://localhost:3001/upload", {
    method: "POST",
    body: form
  });

  const data = await res.json();

  if (data.success) {
    document.getElementById("status").textContent = "Uploaded!";
    document.getElementById("link").innerHTML =
      `<a class="link" href="${data.link}" target="_blank">${data.link}</a>`;
  }
}
</script>
</body>
</html>
